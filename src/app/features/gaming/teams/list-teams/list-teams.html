<div class="p-4">
    @if (loading()) {
        <!-- Skeleton loading -->
        <div class="flex gap-4">
            <div class="skeleton h-24 w-24 rounded"></div>
            <div class="flex-1 space-y-3">
                <div class="skeleton h-6 w-1/3"></div>
                <div class="skeleton h-4 w-1/2"></div>
                <div class="skeleton h-4 w-2/3"></div>
            </div>
        </div>
    } @else if (error()) {
        <div role="alert" class="alert alert-soft alert-error">
            <span>{{ error() }}</span>
        </div>
    } @else {

        <div class="overflow-x-auto">
            <table class="table table-sm">
                <thead>
                <tr class="bg-base-200">
                    <th class="">NAME</th>
                    <th>CODE</th>
                    <th>RIDERS</th>
                    <th class="text-right">BALANCE</th>
                </tr>
                </thead>
                <tbody>
                    @for (t of results(); track t.teamId) {
                        <tr>
                            <td class="bg-base-200 font-medium">
                                @if (t.flag) {
                                    <img
                                        class="inline-block h-4 w-6 me-1"
                                        [src]="'assets/flags/4x3/' + t.flag.toLowerCase() + '.svg'"
                                        [attr.alt]="t.flag + ' flag'"
                                    />
                                }                             
                                <a class="hover:underline hover:text-primary" [routerLink]="['/game/team-details', t.teamId]">{{ t.teamName }}</a>
                            </td>
                            <td>{{ t.teamCode || '—' }}</td>
                            <td>
                                @if (t.countRiders>0) {
                                    <a class="text-primary ms-1 hover:underline" [routerLink]="['/game/team-details', t.teamId]">{{ t.countRiders }}</a>
                                }
                                @else { — }
                            </td>
                            <td class="text-right font-medium">
                                {{ t.balanceTeam | number:'1.0-2' }} <span class="text-xs text-gray-500">$</span>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            </div>

    }
</div>
