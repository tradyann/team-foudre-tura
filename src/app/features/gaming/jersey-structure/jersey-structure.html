<div class="p-4">
    @if (loading()) {
        <!-- Skeleton loading -->
        <div class="flex gap-4">
            <div class="skeleton h-24 w-24 rounded"></div>
            <div class="flex-1 space-y-3">
                <div class="skeleton h-6 w-1/3"></div>
                <div class="skeleton h-4 w-1/2"></div>
                <div class="skeleton h-4 w-2/3"></div>
            </div>
        </div>
    } @else if (error()) {
        <div role="alert" class="alert alert-soft alert-error mt-2">
            <span>{{ error() }}</span>
        </div>
    } @else {

        <h2 class="text-xl font-bold mb-3">Jersey Points Structure</h2>
        <div class="overflow-x-auto">
            <table class="table table-zebra w-full border border-base-300">
                <thead>
                    <tr class="bg-base-200 text-xs uppercase">
                        <th class="w-16">ID</th>
                        <th class="w-32">DESC</th>
                        <th class="w-16">PLACES</th>
                        <th>POINTS</th>
                    </tr>
                </thead>
                <tbody>
                    @for (p of pointsStructure(); track p.stakesPointId) {
                        <tr>
                            <td class="font-extrabold">{{p.stakesPointId}}</td>
                            <td>{{p.pointsDesc}}</td>
                            <td>{{p.details.length}}</td>
                            <td>
                                <span>
                                    @for (x of p.details; track x.place) {
                                        <span class="badge badge-soft me-1 mb-1">{{ x.pts }}pts</span>
                                    }
                                </span>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <h2 class="text-xl font-bold mt-5 mb-3">Time Bonuses Structure</h2>
        <div class="overflow-x-auto">
            <table class="table table-zebra w-full border border-base-300">
                <thead>
                    <tr class="bg-base-200 text-xs uppercase">
                        <th class="w-24">ID</th>
                        <th class="w-24">PLACES</th>
                        <th>SECONDS</th>
                    </tr>
                </thead>
                <tbody>
                    @for (p of timesStructure(); track p.stakesTimeId) {
                        <tr>
                            <td class="font-extrabold">{{p.stakesTimeId}}</td>
                            <td>{{p.details.length}}</td>
                            <td>
                                <div>
                                    @for (x of p.details; track x.place) {
                                        <span class="badge badge-soft me-1 mb-1">{{ x.seconds }}sec</span>
                                    }
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        
    }
</div>
